{% extends 'doctor/dr_dash.html' %}
{% load static %}
{% block content %}

<!DOCTYPE html>
<html>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/add-appointment.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	{% block 'title' %}
	<title>Edit Appointment</title>
	{% endblock %}
	<!-- Fav  Icon Link -->

</head>

<body>
	<!-- Pre Loader -->
	<div class="loading">
		<div class="spinner">
			<div class="double-bounce1"></div>
			<div class="double-bounce2"></div>
		</div>
	</div>
	<!--/Pre Loader -->
	<div class="wrapper">
		<!-- Page Content -->
		<div id="content">
				<!-- Top Navigation -->
		
				<!-- /Top Navigation -->
			
				<!-- Breadcrumb -->
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title">Edit Appointment</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="#">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item">Appointments</li>
								<li class="breadcrumb-item ">Edit Appointment</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->
	<!-- Top Navigation -->
	
	<!-- /Top Navigation -->
			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Edit Appointment</h3>
							<form action="{% url 'edit-appointment' appointments.App_number %}" method="post" onsubmit="return validateForm()">
								{% csrf_token %}
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="patient-id">Patient ID</label>
										<input type="text" class="form-control" value="{{appointments.PatientID}}" placeholder="Patient ID" id="patient-id" name="patient_id">
										<div id="patientIdError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-6">
										<label for="app_date">Appointment Date</label>
										<input type="text" class="form-control" value="{{appointments.Appointment_date}}" id="app_date" name="app_date">
										<div id="patientIdError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-3">
										<label for="start_time">Start Time </label>
										<input type="text" class="form-control" value="{{appointments.Start_Time}}" id="start_time" name="start_time">
										<div id="timeSlotError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-3">
										<label for="end_time">End Time </label>
										<input type="text" class="form-control" value="{{appointments.End_Time}}" id="end_time" name="end_time">
										<div id="timeSlotError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-6">
										<label for="dr_name">Doctor Name</label>
										<select class="form-control" id="dr_name" name="dr_name">
											<option>Choose Name</option>
											{% for user in doctors %}
											<option value="{{ user.username }}">{{ user.first_name}}</option>
											{% endfor %}
										</select>
										<div id="drNameError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-6">
										<label for="app_status">Status</label>
										<select class="form-control" id="app_status" name="app_status">
											<option selected disabled>Choose Status</option>
											<option value="Completed">Completed</option>
											<option value="Pending">Pending</option>
											<option value="Cancelled">Cancelled</option>
										</select>
										<div id="appStatusError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-6">
										<label for="problem">Problem</label>
										<textarea placeholder="Problem" class="form-control" id="problem" rows="3" name="problem">{{appointments.App_reason}}</textarea>
										<div id="problemError" class="text-danger"></div>
									</div>
									<div class="form-group col-md-6 mb-3">
										<button type="submit" class="btn btn-primary btn-lg">Submit</button>
									</div>
								</div>
							</form>
							
							<script>
								function validateForm() {
									var patientId = document.getElementById("patient-id");
									var timeSlot = document.getElementById("time-slot");
									var drName = document.getElementById("dr_name");
									var appStatus = document.getElementById("app_status");
									var problem = document.getElementById("problem");
							
									// Check if patient ID is empty
									if (patientId.value.trim() === "") {
										patientId.style.borderColor = "red";
										document.getElementById("patientIdError").innerText = "Patient ID cannot be empty";
										return false;
									} else {
										patientId.style.borderColor = "green";
										document.getElementById("patientIdError").innerText = "";
									}
							
									// Check if time slot is selected
									if (timeSlot.value.trim() === "Choose Time") {
										timeSlot.style.borderColor = "red";
										document.getElementById("timeSlotError").innerText = "Please choose a time slot";
										return false;
									} else {
										timeSlot.style.borderColor = "green";
										document.getElementById("timeSlotError").innerText = "";
									}
							
									// Check if doctor name is selected
									if (drName.value.trim() === "") {
										drName.style.borderColor = "red";
										document.getElementById("drNameError").innerText = "Please choose a Doctor Name";
										return false;
									} else {
										drName.style.borderColor = "green";
										document.getElementById("drNameError").innerText = "";
									}
							
									// Check if appointment status is selected
									if (appStatus.value.trim() === "Choose Status") {
										appStatus.style.borderColor = "red";
										document.getElementById("appStatusError").innerText = "Please choose an Appointment Status";
										return false;
									} else {
										appStatus.style.borderColor = "green";
										document.getElementById("appStatusError").innerText = "";
									}
							
									// Check if problem is empty
									if (problem.value.trim() === "") {
										problem.style.borderColor = "red";
										document.getElementById("problemError").innerText = "Problem cannot be empty";
										return false;
									} else {
										problem.style.borderColor = "green";
										document.getElementById("problemError").innerText = "";
									}
							
									// All fields are valid
									return true;
								}
							</script>
							
							<!-- Alerts-->
							{% if registered %}
							<div class="alert alert-success alert-dismissible fade show" role="alert">
								<strong>Successfully Done!</strong> Appointment token Generated
								<button type="button" class="close" data-dismiss="alert" aria-label="Close">
									<span aria-hidden="true">Ã—</span>
								</button>
							</div>
						
							{% endif %}
							<!-- /Alerts-->
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->
	
		</div>
		<!-- /Page Content -->
	</div>
	<!-- Back to Top -->
	<a id="back-to-top" href="#" class="back-to-top">
		<span class="ti-angle-up"></span>
	</a>
	<!-- /Back to Top -->


</body>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/add-appointment.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
</html>
{% endblock %}
