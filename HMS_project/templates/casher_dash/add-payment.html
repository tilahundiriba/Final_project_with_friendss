{% extends 'casher_dash/casher_dash.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/add-payment.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
{% block 'title' %}
	<title>Add Payments</title>
	{% endblock %}
	<!-- Fav  Icon Link -->

</head>

<body>
	<!-- Pre Loader -->
	<div class="loading">
		<div class="spinner">
			<div class="double-bounce1"></div>
			<div class="double-bounce2"></div>
		</div>
	</div>
	<!--/Pre Loader -->
	<!-- Color Changer -->

	<!-- /Color Changer -->
	<div class="wrapper">
		<!-- Page Content -->
		<div id="content">
	
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title">Add Payment</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="index.html">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item">Payments</li>
								<li class="breadcrumb-item active">Add Payment</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Add Payment</h3>
							<form action="{% url 'add-payment' patient_pay.patient_id %}" method="post">
								 {% csrf_token %}
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="patient-id">Patient ID</label>
										<input type="text" value="{{patient_pay.patient_id}}" class="form-control" placeholder="Patient ID" id="patient-id" name="patient_id">
                                    </div>
									<div class="form-group col-md-6">
										<label for="adminssion-date">Admission Date</label>
										<input type="date" placeholder="Adminssion Date" class="form-control" id="adminssion-date" name="adminssion_date">
                                    </div>	
						
									<div class="form-group col-md-6">
										<label for="cashier_name">Casher Name</label>
										<!-- <input type="text" placeholder="cashier name" class="form-control" id="cashier_name" name="cashier_name"> -->
										<select class="form-control" id="cashier_name" name="cashier_name">
											<option disabled selected >Select Casher Name</option>
											{% for user in cashers %}
										    
										    <option value="{{ user.username }}">{{ user.username}}</option>
											{% endfor %}
										
										</select>
									</div>
									
                                    <div class="form-group col-md-6">
										<label for="discharge-date">Payment NO.</label>
										<input type="text" placeholder="payment No." class="form-control" id="discharge-date" name="payment_no">
                                    </div>	
                                    <div class="form-group col-md-6">
										<h4 style="color: black;">Basic Services</h4>										
                                    </div>
									<div class="form-group col-md-6">
										<h4 style="color: black;">Laboratory Services </h4>										
                                    </div>
								
									<div class="form-group col-md-2">
										
										<input type="checkbox" id="food_payment" name="food_payment">
										<label for="food_payment">Food </label>
									</div>
									<div class="form-group col-md-2">
										
										<input type="checkbox" id="card_payment" name="card_payment">
										<label for="card_payment">Card </label>
									</div>
									<div class="form-group col-md-2">
										
										<input type="checkbox" id="bed_payment" name="bed_payment">
										<label for="bed_payment">Bed </label>
									</div>
									
									<div class="form-group col-md-1">
										
										<input type="checkbox" id="blood_payment" name="blood_payment">
										<label for="blood_payment">Blood Test</label>
									</div>
									<div class="form-group col-md-1">
										
										<input type="checkbox" id="urine_payment" name="urine_payment">
										<label for="urine_payment">Urine Test </label>
									</div>
									<div class="form-group col-md-2">
										
										<input type="checkbox" id="ctscan_test" name="ctscan_test">
										<label for="ctscan_test">CT Scan Test </label>
									</div>
									<div class="form-group col-md-2">
										
										<input type="checkbox" id="x-ray_test" name="x-ray_test">
										<label for="x-ray_test">X-rays Test</label>
									</div>
									<!-- <div id="cost_amount_fields" class="form-group col-md-6">
										
									</div> -->
						
                                    <!-- <div class="form-group col-md-6">
										<label for="food_p_amount">Cost Amount</label>
										<input type="text" placeholder="Cost amount" class="form-control" id="food_p_amount" name="food_p_amount">
                                    </div>
									<div class="form-group col-md-6">
										<label for="payment-type">Bed Payment</label>
									
										<select class="form-control" id="bed_payment" name="bed_payment">
											<option disabled selected >Select Service Name</option>
											{% for pay in payments %}
										    <option value="{{ pay.Services }}" data-cost-bed="{{ pay.Payment }}">{{ pay.Services }}</option>
											{% endfor %}
											
										</select>
                                    </div>
						
                                    <div class="form-group col-md-6">
										<label for="bed_p_amount">Cost Amount</label>
										<input type="text" placeholder="Cost amount" class="form-control" id="bed_p_amount" name="bed_p_amount">
                                    </div>
									<div class="form-group col-md-6">
										<label for="card_payment">Card Payment</label>
										<select class="form-control" id="card_payment" name="card_payment">
											<option disabled selected >Select Service Name</option>
											{% for pay in payments %}
										    <option value="{{ pay.Services }}" data-cost-card="{{ pay.Payment }}">{{ pay.Services }}</option>
											{% endfor %}
											
										</select>
                                    </div>
						
                                    <div class="form-group col-md-6">
										<label for="card_p_amount">Cost Amount</label>
										<input type="text" placeholder="Cost amount" value="" class="form-control" id="card_p_amount" name="card_p_amount">
                                    </div>
									<div class="form-group col-md-6">
										<label for="lab_payment">Lab Payment</label>
										<select class="form-control" id="lab_payment" name="lab_payment">
											<option disabled selected >Select Service Name</option>
											{% for pay in payments %}
										    <option value="{{ pay.Services }}" data-cost-lab="{{ pay.Payment }}">{{ pay.Services }}</option>
											{% endfor %}
										
										</select>
                                    </div>	
						
                                    <div class="form-group col-md-6">
										<label for="lab_p_amount">Cost Amount</label>
										<input type="text" placeholder="Cost amount" class="form-control" id="lab_p_amount" name="lab_p_amount">
                                    </div>
									<div class="form-group col-md-6">
										<label for="other">Other Service</label>
										<select class="form-control" id="other" name="other">
											<option disabled selected >Select Service Name</option>
											{%  for pay in payments %}
										    <option value="{{ pay.Services }}" data-cost="{{ pay.Payment }}">{{ pay.Services }}</option>
											{% endfor %}
											
										</select>
                                    </div>	
						
                                    <div class="form-group col-md-6">
										<label for="other_amount">Cost Amount</label>
										<input type="text" placeholder="Cost amount" class="form-control" id="other_amount" name="other_amount"
										step="0.01"
                                        required>
                                    </div>  -->
                                   <!-- <div class="form-group col-md-12">
                                        <button type="button" class="btn btn-outline-success"><span class="ti-plus"></span> Add Service</button>										
                                    </div> -->

                                    <div class="form-group col-md-12">
										<h4 style="color: black;">Payment Method</h4>										
                                    </div>
									
                                    <div class="form-group col-md-6">
										<label for="payment-type">Payment Type</label>
										
										<select class="form-control" id="payment-type" name="payment_type" >
											<option disabled selected >Select Payment Method</option>
											{% for pay in payments %}
										    <option value="{{ pay.Payment_method }}">{{ pay.Payment_method }}</option>
											{% endfor %}
										</select>
										
                                    </div>	
                              
                                    																
									<div class="form-check col-md-12 mb-2">
										<div class="text-left">
											<div class="custom-control custom-checkbox">
												<input class="custom-control-input" type="checkbox" id="ex-check-2">
												<label class="custom-control-label" for="ex-check-2">Please Confirm</label>
											</div>
										</div>
									</div>
									<div class="form-group col-md-6 mb-3">
										<button type="submit" class="btn btn-primary btn-lg">Submit</button>
									</div>
								</div>
							</form>
							<!-- Alerts-->
							<div class="alert alert-success alert-dismissible fade show" role="alert">
								<strong>Successfully Done!</strong> Payment added
								<button type="button" class="close" data-dismiss="alert" aria-label="Close">
									<span aria-hidden="true">×</span>
								</button>
							</div>
							
							<!-- /Alerts-->
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->
			<!--Copy Rights-->
			<div class="container">
				<div class="d-sm-flex justify-content-center">
				  <span class="text-muted text-center d-block d-sm-inline-block">Copyright © 2018 <a href="http://www.konnectplugins.com/" target="_blank">konnectcode</a>. All rights reserved.</span>
				</div>
			</div>
			<!-- /Copy Rights-->
		</div>
		<!-- /Page Content -->
	</div>
	<!-- Back to Top -->
	<a id="back-to-top" href="#" class="back-to-top">
		<span class="ti-angle-up"></span>
	</a>
	<!-- /Back to Top -->
	<script>
		document.getElementById('other').addEventListener('change', function() {
			var selectedOption = this.options[this.selectedIndex];
			// var cost = selectedOption.getAttribute('data-cost');
			// document.getElementById('other_amount').value = cost;
			var combinedValue = selectedOption.getAttribute('data-cost');
			var paymentAmount = combinedValue.match(/\d+(\.\d+)?/)[0]; // Extracting the payment amount
			document.getElementById('other_amount').value = paymentAmount;
		});
		document.getElementById('food_payment').addEventListener('change', function() {
			var selectedOption = this.options[this.selectedIndex];
			// var cost = selectedOption.getAttribute('data-cost-food');
			// document.getElementById('food_p_amount').value = cost;
			var combinedValue = selectedOption.getAttribute('data-cost-food');
			var paymentAmount = combinedValue.match(/\d+(\.\d+)?/)[0]; // Extracting the payment amount
			document.getElementById('food_p_amount').value = paymentAmount;
		});
		document.getElementById('bed_payment').addEventListener('change', function() {
			var selectedOption = this.options[this.selectedIndex];
			// var cost = selectedOption.getAttribute('data-cost-bed');
			// document.getElementById('bed_p_amount').value = cost;
			var combinedValue = selectedOption.getAttribute('data-cost-bed');
			var paymentAmount = combinedValue.match(/\d+(\.\d+)?/)[0]; // Extracting the payment amount
			document.getElementById('bed_p_amount').value = paymentAmount;
		});
		document.getElementById('card_payment').addEventListener('change', function() {
			var selectedOption = this.options[this.selectedIndex];
			// var cost = selectedOption.getAttribute('data-cost-card');
			// document.getElementById('card_p_amount').value = cost;
			var combinedValue = selectedOption.getAttribute('data-cost-card');
			var paymentAmount = combinedValue.match(/\d+(\.\d+)?/)[0]; // Extracting the payment amount
			document.getElementById('card_p_amount').value = paymentAmount;

		});
		document.getElementById('lab_payment').addEventListener('change', function() {
			var selectedOption = this.options[this.selectedIndex];
			// var cost = selectedOption.getAttribute('data-cost-lab');
			// document.getElementById('lab_p_amount').value = cost;
			var combinedValue = selectedOption.getAttribute('data-cost-lab');
			var paymentAmount = combinedValue.match(/\d+(\.\d+)?/)[0]; // Extracting the payment amount
			document.getElementById('lab_p_amount').value = paymentAmount;
		});
// 		document.getElementById('food_payment').addEventListener('click', function() {
//     var options = this.options;
//     var costAmountFieldsContainer = document.getElementById('cost_amount_fields');

//     // Clear existing input fields
//     costAmountFieldsContainer.innerHTML = '';

//     // Iterate through all options in the dropdown
//     for (var i = 0; i < options.length; i++) {
//         var option = options[i];
//         var serviceName = option.value;
//         var cost = parseFloat(option.getAttribute('data-cost-food'));

//         // Check if the option is selected
//         if (option.selected) {
//             // Create a container for the input field
//             var inputFieldContainer = document.createElement('div');

//             // Create input field for the selected option
//             var inputField = document.createElement('input');
//             inputField.type = 'text';
//             inputField.className = 'form-control';
//             inputField.value = cost.toFixed(2); // Set cost amount
//             inputField.readOnly = true;
//             inputField.name = serviceName + '_p_amount'; // Set unique name for each input field

//             // Create label for input field
//             var label = document.createElement('label');
//             label.textContent = serviceName + ' Cost Amount:';

//             // Append label and input field to container
//             inputFieldContainer.appendChild(label);
//             inputFieldContainer.appendChild(inputField);

//             // Append container to the main container
//             costAmountFieldsContainer.appendChild(inputFieldContainer);
//         }
//     }
// });






	</script>

</body>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/add-payment.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
</html>
{% endblock %}
