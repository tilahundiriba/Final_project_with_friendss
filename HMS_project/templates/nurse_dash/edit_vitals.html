{% extends 'nurse_dash/nurse_dash.html' %}
{% load static %}
{% block content %}

<!DOCTYPE html>
<html>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/edit-room.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    {% block title %}
        <title>Edit vital_info</title>
    {% endblock %}
    <!-- Fav  Icon Link -->
</head>


<body>
	<!-- Pre Loader -->
	<div class="loading">
		<div class="spinner">
			<div class="double-bounce1"></div>
			<div class="double-bounce2"></div>
		</div>
	</div>
	<!--/Pre Loader -->
	<!-- Color Changer -->

	<!-- /Color Changer -->
	<div class="wrapper">
		<!-- Page Content -->
		<div id="content">
				<!-- Top Navigation -->

		
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title"> Edit Vital Informations</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="index.html">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item active">Vital Informations</li>
								<li class="breadcrumb-item ">Edit Vital Informations</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Vital Informations</h3>
							<form action="{% url 'edit_vitals' vitals.Vital_info_no %}" method="post" onsubmit="return validateForm()" id="formId">
								{% csrf_token %}
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="patient_id">Patient ID</label>
										<input type="text" class="form-control" value="{{ vitals.Patient_id }}" placeholder="Patient id" id="patient_id" name="patient_id">
										<div id="patientIdError" class="text-danger"></div>
									</div>
								
									<div class="form-group col-md-6">
										<label for="HeartRate">Heart Rate</label>
										<input type="text" placeholder="heart rate" value="{{ vitals.H_rate }}"  class="form-control" id="HeartRate" name="Heart_Rate">
										<div id="heartRateError" class="error-text"></div>

									</div>
								
									<div class="form-group col-md-6">
										<label for="bloodpre">Blood Pressure</label>
										<input type="text" placeholder="blood pressure" value="{{ vitals.B_pressure }}" class="form-control" id="bloodpre" name="bloodpre">
										<div id="bloodPressureError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="resRate">Respiratory Rate</label>
										<input type="text" placeholder="respiratory rate" value="{{ vitals.R_rate }}" class="form-control" id="resRate" name="resRate">
										<div id="respiratoryRateError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="bodytemp">Body Temprature</label>
										<input type="text" placeholder="body temprature" value="{{ vitals.Body_temp }}" class="form-control" id="bodytemp" name="bodytemp">
										<div id="bodyTemperatureError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="oxysatu">Oxygen Saturation</label>
										<input type="text" placeholder="oxygen saturation" value="{{ vitals.Oxy_satu }}" class="form-control" id="oxysatu" name="oxysatu">
										<div id="oxygenSaturationError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="painlev">Pain Level</label>
										<input type="text" placeholder="Pain level" value="{{ vitals.Pain_level }}" class="form-control" id="painlev" name="painlev">
										<div id="painLevelError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="height">Height</label>
										<input type="text" placeholder="height" value="{{ vitals.Height }}" class="form-control" id="height" name="height">
										<div id="heightError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="weight">Weight</label>
										<input type="text" placeholder="weight" value="{{ vitals.Weight }}" class="form-control" id="weight" name="weight">
										<div id="weightError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="bloodglu">Blood Glucose level</label>
										<input type="text" placeholder="blood glucose level" value="{{ vitals.B_gluc_level }}" class="form-control" id="bloodglu" name="bloodglu">
										<div id="bloodGlucoseLevelError" class="error-text"></div>

									</div>
									<div class="form-group col-md-6">
										<label for="nurseid">Nursing ID</label>
										<select class="form-control" id="nurseid" name="nurseid">
											<option>Select Name</option>
											{% for user in users %}
											<option value="{{user.username}}">{{user.username}}</option>
											{% endfor %}
										</select>
										<div id="nursingIdError" class="error-text"></div>

										<!-- <input type="text" placeholder="nursing id" class="form-control" id="nurseid" name="nurseid"> -->
									</div>
									<div class="form-group col-md-6">
										<label for="exampleFormControlTextarea1">Remark</label>
										<textarea placeholder="remark" class="form-control" id="exampleFormControlTextarea1" rows="3" name="remark">{{ vitals.Remark }}</textarea>
										<div id="remarkError" class="error-text"></div>

									</div>
								
									
																	
	
									<div class="form-group col-md-6 mb-3">
										<button type="submit" class="btn btn-primary btn-lg">Submit</button>
									</div>
								</div>
							</form>
							<script>
								function validateForm() {
								        // Validate Patient ID
										var patientId = document.getElementById("patient_id");
										if (patientId.value.trim().length !== 8 || !patientId.value.trim().startsWith("SH")) {
											patientId.style.borderColor = "red";
											document.getElementById("patientIdError").innerText = "Patient ID must start with 'SH' and be 8 characters long";
											return false;
										} else {
											patientId.style.borderColor = "green";
											document.getElementById("patientIdError").innerText = "";
										}
								
										// Validate Heart Rate
										var heartRate = document.getElementById("HeartRate");
										if (heartRate.value.trim() === "" || isNaN(heartRate.value.trim())) {
											heartRate.style.borderColor = "red";
											document.getElementById("heartRateError").innerText = "Heart Rate must be a number";
											heartRateError.style.color = "red";

											return false;
										} else {
											heartRate.style.borderColor = "green";
											document.getElementById("heartRateError").innerText = "";
										}
								
										// Validate Blood Pressure
										var bloodPressure = document.getElementById("bloodpre");
										if (bloodPressure.value.trim() === "" || isNaN(bloodPressure.value.trim())) {
											bloodPressure.style.borderColor = "red";
											document.getElementById("bloodPressureError").innerText = "Blood Pressure must be a number";
											bloodPressureError.style.color = "red";

											return false;
										} else {
											bloodPressure.style.borderColor = "green";
											document.getElementById("bloodPressureError").innerText = "";
										}
									// Validate Respiratory Rate
									   var respiratoryRate = document.getElementById("resRate");
										if (respiratoryRate.value.trim() === "" || isNaN(respiratoryRate.value.trim())) {
											respiratoryRate.style.borderColor = "red";
											document.getElementById("resRateError").innerText = "Respiratory Rate must be a number";
											resRateError.style.color = "red";

											return false;
										} else {
											respiratoryRate.style.borderColor = "green";
											document.getElementById("resRateError").innerText = "";
										}
							
								
							
									// Validate Body Temperature
									var bodyTemperature = document.getElementById("bodytemp").value.trim();
									if (isNaN(bodyTemperature)) {
										document.getElementById("bodytempError").innerText = "Body Temperature must be a number";
										document.getElementById("bodytemp").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("bodytempError").innerText = "";
										document.getElementById("bodytemp").style.borderColor = "green";
									}
							
									// Validate Oxygen Saturation
									var oxygenSaturation = document.getElementById("oxysatu").value.trim();
									if (isNaN(oxygenSaturation)) {
										document.getElementById("oxysatuError").innerText = "Oxygen Saturation must be a number";
										document.getElementById("oxysatu").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("oxysatuError").innerText = "";
										document.getElementById("oxysatu").style.borderColor = "green";
									}
							
									// Validate Pain Level
									var painLevel = document.getElementById("painlev").value.trim();
									if (isNaN(painLevel)) {
										document.getElementById("painlevError").innerText = "Pain Level must be a number";
										document.getElementById("painlev").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("painlevError").innerText = "";
										document.getElementById("painlev").style.borderColor = "green";
									}
							
									// Validate Height
									var height = document.getElementById("height").value.trim();
									if (isNaN(height)) {
										document.getElementById("heightError").innerText = "Height must be a number";
										document.getElementById("height").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("heightError").innerText = "";
										document.getElementById("height").style.borderColor = "green";
									}
							
									// Validate Weight
									var weight = document.getElementById("weight").value.trim();
									if (isNaN(weight)) {
										document.getElementById("weightError").innerText = "Weight must be a number";
										document.getElementById("weight").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("weightError").innerText = "";
										document.getElementById("weight").style.borderColor = "green";
									}
							
									// Validate Blood Glucose Level
									var bloodGlucoseLevel = document.getElementById("bloodglu").value.trim();
									if (isNaN(bloodGlucoseLevel)) {
										document.getElementById("bloodgluError").innerText = "Blood Glucose Level must be a number";
										document.getElementById("bloodglu").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("bloodgluError").innerText = "";
										document.getElementById("bloodglu").style.borderColor = "green";
									}
							
									// Validate Nursing ID
									var nurseId = document.getElementById("nurseid").value;
									if (nurseId === "Select Name") {
										document.getElementById("nurseidError").innerText = "Please select a nurse";
										document.getElementById("nurseid").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("nurseidError").innerText = "";
										document.getElementById("nurseid").style.borderColor = "green";
									}
							
									// Validate Remark
									var remark = document.getElementById("exampleFormControlTextarea1").value.trim();
									if (!remark) {
										document.getElementById("remarkError").innerText = "Remark cannot be empty";
										document.getElementById("exampleFormControlTextarea1").style.borderColor = "red";
										isValid = false;
									} else {
										document.getElementById("remarkError").innerText = "";
										document.getElementById("exampleFormControlTextarea1").style.borderColor = "green";
									}
							
									return isValid;
								}
							
								function submitForm(event) {
									if (!validateForm()) {
										event.preventDefault(); // Prevent form submission
									}
								}
							
								document.getElementById("formId").addEventListener("submit", submitForm);
							</script>
							
							
							
								<!-- Alerts-->
								{% if registered %}
								<div class="alert alert-success alert-dismissible fade show" role="alert">
									<strong>Successfully Done!</strong> Please check in Allotment list
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">×</span>
									</button>
								</div>
							
								{% endif %}
							
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->

		</div>
		<!-- /Page Content -->
	</div>
	<!-- Back to Top -->
	<a id="back-to-top" href="#" class="back-to-top">
		<span class="ti-angle-up"></span>
	</a>
	<!-- /Back to Top -->


</body>


<!-- Mirrored from www.konnectplugins.com/proclinic/Horizontal/edit-room.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 24 Jan 2022 10:42:01 GMT -->
</html>
{% endblock %}
